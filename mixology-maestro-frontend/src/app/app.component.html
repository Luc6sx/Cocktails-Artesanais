

<header id="header">
  <nav id="nav">
    <button class="botoes">Home</button>
    <button class="botoes">Ingredientes</button>
    <button class="botoes">Receitas</button>
  </nav>
</header>

<section>
  <textarea placeholder="Proucure aqui: Receitas / Ingredientes" name="proucurar" id="proucurar"></textarea>
  
 
  <button (click)="abrirPopup()" class="criar">Criar</button>
  
  
  <div *ngIf="isPopupVisible" class="popup-overlay">
    <div class="popup-content">
      <form (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="nome">Nome da Receita:</label>
          <input type="text" id="nome" [(ngModel)]="novaReceita.nome" name="nome" required>
        </div>

        <div class="form-group">
          <label for="categoria">Categoria:</label>
          <input type="text" id="categoria" [(ngModel)]="novaReceita.categoria" name="categoria" required>
        </div>

        <div class="form-group">
          <label for="descricao">Descrição:</label>
          <textarea id="descricao" [(ngModel)]="novaReceita.descricao" name="descricao"></textarea>
        </div>

        <div class="form-group">
          <label for="instrucoes">Instruções:</label>
          <textarea id="instrucoes" [(ngModel)]="novaReceita.instrucoes" name="instrucoes"></textarea>
        </div>

        <div class="form-group">
          <label for="imagemFile">Upload de Imagem:</label>
          <input type="file" id="imagemFile" (change)="onFileSelected($event)" accept="image/*">
        </div>

        <div *ngIf="imageUrl" class="image-preview">
          <h4>Pré-visualização:</h4>
          <img [src]="imageUrl" alt="Pré-visualização" style="max-width: 150px; max-height: 150px;">
        </div>

        <button type="submit">Salvar Receita</button>
        <button type="button" (click)="fecharPopup()">Cancelar</button>
      </form>
    </div>
  </div>
</section>

<main>
  <div (click)="abrirRe(receita)" *ngFor="let receita of receitas" class="comida-card">
    <img [src]="receita.imageUrl" alt="imagem de {{receita.nome}}">
    <h3 >{{ receita.nome }}</h3>
  </div>
  <div *ngIf="abrirReceita && selectedReceita" class="popup-overlay">
  <div class="popup-content">
    <button class="btn-fechar" (click)="fecharPopup()">X</button>
    
    <div class="popup-cards">
      <h2>{{ selectedReceita.nome }}</h2>

      <img *ngIf="selectedReceita.imageUrl" [src]="'http://localhost:8080/images/' + selectedReceita.imageUrl" alt="Imagem de {{selectedReceita.nome}}">

      <p><strong>Categoria:</strong> {{ selectedReceita.categoria }}</p>
      <p><strong>Descrição:</strong> {{ selectedReceita.descricao }}</p>
      <p><strong>Instruções:</strong> {{ selectedReceita.instrucoes }}</p>

      </div>
    
  </div>
</div>
</main>

